(window.webpackJsonp=window.webpackJsonp||[]).push([["register"],{"52cc":function(e,t,s){"use strict";s.r(t);var r=s("c67c"),i=s.n(r);for(var o in r)"default"!==o&&function(e){s.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},"67fe":function(e,t,s){(e.exports=s("24fb")(!1)).push([e.i,".kwe-split{display:-webkit-box;display:-ms-flexbox;display:flex;margin:20px 0}.kwe-split-center{-webkit-box-flex:0;-ms-flex:none;flex:none;margin:0 20px}.kwe-split-left,.kwe-split-right{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;white-space:nowrap;overflow:hidden;font-size:16px;opacity:.6}",""])},7803:function(e,t,s){"use strict";s.r(t);var r=s("9ab4"),i=s("60a3"),o=s("8181"),n=s("8c2d"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.route_from=null,t.result="",t.message={name:"",password:"",tel:""},t.user={name:"",password:"",tel:""},t}return r.d(t,e),Object.defineProperty(t.prototype,"is_login",{get:function(){return this.$store.state.user.is_login},enumerable:!0,configurable:!0}),t.prototype.mounted=function(){document.title="注册",this.$store.dispatch("set_referrer",this.$route.fullPath)},t.prototype.update=function(){var e=this;setTimeout((function(){e.user_change()}),1e3)},t.prototype.set_data=function(e){this.route_from=e},t.prototype.register=function(){var e=this;this.is_login?this.result="已登录，若要注册新账号，请先退出登录！":(this.check_tel(0)&&this.check_name()&&this.check_password()?this.$store.dispatch("user/register",this.user).then((function(t){0===t.code?(e.result=t.msg,e.user={name:"",password:"",tel:""},setTimeout((function(){e.result=""}),2e3)):e.result=t.msg})):this.result="输入信息有误",o.a.track({flag:"logUp"}))},t.prototype.check_name=function(){return this.user.name?this.user.name.length>10?(this.message.name="昵称太长",!1):(this.message.name="",!0):(this.message.name="昵称不能为空",!1)},t.prototype.check_password=function(){return this.user.password.length>16||this.user.password.length<6?(this.message.password="密码由6-16个字符组成",!1):(this.message.password="",!0)},t.prototype.check_tel=function(e){return r.b(this,void 0,void 0,(function(){var t=this;return r.e(this,(function(s){switch(s.label){case 0:return/^1\d{10}$/.test(this.user.tel)?0===e?this.message.tel?[2,!1]:(this.message.tel="",[2,!0]):[4,o.a.check(this.user.tel).then((function(e){0===e.code?t.message.tel="":t.message.tel=e.msg||"此电话用户已存在(；′⌒`)"}))]:[3,2];case 1:return s.sent(),this.message.tel="",[2,!0];case 2:return this.message.tel="电话号码格式不对",[2,!1]}}))}))},t.prototype.hide_result=function(){this.result=""},t.prototype.keyup=function(e){13===e.keyCode&&this.register()},t.prototype.user_change=function(){if(this.is_login){var e=this.route_from&&this.route_from.fullPath||"/";"/register"!==e&&"/login"!==e||(e="/"),this.$router.push(e)}},r.c([Object(i.d)("is_login")],t.prototype,"update",null),t=r.c([Object(i.a)({components:{Splitline:n.a}})],t)}(i.c),l=s("2877");var u=Object(l.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"kwe-register",on:{click:e.hide_result}},[s("Splitline",{staticStyle:{"font-size":"40px","line-height":"40px"},attrs:{title:"注册"}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.result,expression:"result"}],staticClass:"kwe-result"},[e._v(e._s(e.result))]),e._v(" "),s("div",{staticClass:"kwe-register-module"},[s("div",{staticClass:"kwe-register-group"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.tel,expression:"user.tel",modifiers:{trim:!0}}],attrs:{type:"text",autocomplete:"off",placeholder:"手机号,用于登录"},domProps:{value:e.user.tel},on:{blur:[e.check_tel,function(t){return e.$forceUpdate()}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.keyup(t)},input:function(t){t.target.composing||e.$set(e.user,"tel",t.target.value.trim())}}}),e._v(" "),s("span",{staticClass:"kwe-error"},[e._v(e._s(e.message.tel))])]),e._v(" "),s("div",{staticClass:"kwe-register-group"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.name,expression:"user.name",modifiers:{trim:!0}}],attrs:{
type:"text",autocomplete:"off",placeholder:"昵称"},domProps:{value:e.user.name},on:{blur:[e.check_name,function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value.trim())}}}),e._v(" "),s("span",{staticClass:"kwe-error"},[e._v(e._s(e.message.name))])]),e._v(" "),s("div",{staticClass:"kwe-register-group"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.password,expression:"user.password",modifiers:{trim:!0}}],attrs:{type:"password",autocomplete:"off",placeholder:"密码（6-16个字符组成，区分大小写）"},domProps:{value:e.user.password},on:{blur:[e.check_password,function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value.trim())}}}),e._v(" "),s("span",{staticClass:"kwe-error"},[e._v(e._s(e.message.password))])])]),e._v(" "),s("div",{staticClass:"kwe-btn-register",on:{click:function(t){return t.stopPropagation(),e.register(t)}}},[e._v("注 册")]),e._v(" "),s("div",{staticClass:"kwe-to-login"},[s("router-link",{attrs:{to:"/login"}},[e._v("已有账号，直接登录>")])],1)],1)}),[],!1,(function(e){var t=s("7fba");t.__inject__&&t.__inject__(e)}),null,"700a6f8e");t.default=u.exports},"7fba":function(e,t,s){"use strict";s.r(t);var r=s("8df9"),i=s.n(r);for(var o in r)"default"!==o&&function(e){s.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},"8c2d":function(e,t,s){"use strict";var r=s("9ab4"),i=s("60a3"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),r.c([Object(i.b)({default:""})],t.prototype,"title",void 0),t=r.c([i.a],t)}(i.c),n=s("2877");var a=Object(n.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"kwe-split"},[s("span",{staticClass:"kwe-split-left"},[e._v(" —— —— —— —— —— —— —— —— —— —— —— —— —— —— —— —— —— —— —— —— —— —— —— —— —— ")]),e._v(" "),e.title?s("span",{staticClass:"kwe-split-center"},[e._v(e._s(e.title))]):e._e(),e._v(" "),s("span",{staticClass:"kwe-split-right"},[e._v(" —— —— —— —— —— —— —— —— —— —— —— —— —— —— —— —— —— —— —— —— —— —— —— —— —— ")])])}),[],!1,(function(e){var t=s("52cc");t.__inject__&&t.__inject__(e)}),null,"549df753");t.a=a.exports},"8df9":function(e,t,s){var r=s("dafe");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),(0,s("499e").default)("141c8f7f",r,!0,{sourceMap:!1,shadowMode:!1})},c67c:function(e,t,s){var r=s("67fe");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),(0,s("499e").default)("5adcf393",r,!0,{sourceMap:!1,shadowMode:!1})},dafe:function(e,t,s){
(e.exports=s("24fb")(!1)).push([e.i,".kwe-register{width:100%;max-width:1000px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;padding:20px;font-size:14px;background:hsla(0,0%,100%,.6);color:#606266}.kwe-register .kwe-result{position:absolute;top:145px;left:50%;width:95%;max-width:400px;text-align:center;line-height:50px;color:#f45d90;font-size:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);background:rgba(0,0,0,.4);-webkit-box-shadow:0 0 2px 1px #f45d90;box-shadow:0 0 2px 1px #f45d90;z-index:2;cursor:pointer}.kwe-register-module{width:100%;max-width:300px;margin:80px auto 0}.kwe-register-module .kwe-register-group{position:relative;overflow:hidden}.kwe-register-module .kwe-register-group .kwe-error{position:absolute;left:0;bottom:0;color:#f45d90;line-height:26px;font-size:12px;text-align:left}.kwe-register .kwe-btn-register,.kwe-register .kwe-to-login{width:100%;max-width:300px;margin:0 auto;line-height:2.5}.kwe-register .kwe-btn-register{text-align:center;border:1px solid #ccc;cursor:pointer}.kwe-register .kwe-btn-register:hover{color:#00a1d6;border-color:#00a1d6}.kwe-register .kwe-to-login{text-align:right;font-size:12px}.kwe-register .kwe-to-login a{color:#00a1d6}.kwe-register input{display:block;width:100%;line-height:24px;padding:6px 4px;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid #ccc;margin:0 auto 30px auto}.kwe-register input:-webkit-autofill,.kwe-register input:-webkit-autofill:focus,.kwe-register input:-webkit-autofill:hover,.kwe-register select:-webkit-autofill,.kwe-register select:-webkit-autofill:focus,.kwe-register select:-webkit-autofill:hover,.kwe-register textarea:-webkit-autofill,.kwe-register textarea:-webkit-autofill:focus,.kwe-register textarea:-webkit-autofill:hover{-webkit-text-fill-color:#ff6700;-webkit-box-shadow:0 0 0 1000px transparent inset;-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}",""])}}]);